<!--
 * @Author: hechenglong kfhechenglong@126.com
 * @Date: 2023-04-07 15:48:01
 * @LastEditors: hechenglong kfhechenglong@126.com
 * @LastEditTime: 2023-04-11 10:57:18
 * @FilePath: \node\koa\templates\index.ejs
 * @Description: 文章列表页面
-->
<h1>文章列表</h1>
<%if(list.length === 0) {%>
<p>暂时没有文章展示</p>
<% } else { %>
<table>
  <tr>
    <th>ID</th>
    <th>标题</th>
    <th>发表时间</th>
    <% if (logged) {%>
    <th>操作</th>
    <% } %>
  </tr>
  <%list.forEach((item) => {%>
  <tr>
    <td><%=item.id%></td>
    <td>
      <a href="/post/<%=item.id%>"><%=item.title %></a>
    </td>
    <td> <%=item.time %> </td>
    <%if (logged) {%>
    <td>
      <a href="/update/<%=item.id%>">编辑</a>
      <a
        href="/delete/<%=item.id%>"
        onclick="return confirm
      ('确认删除吗？')"
        >删除</a
      >
    </td>
    <% } %>
  </tr>
  <% }) %>
</table>
<% } %>
